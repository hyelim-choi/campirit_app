{"ast":null,"code":"'use strict';var DELAY='DELAY';var ERROR='ERROR';var LONG_PRESS_DETECTED='LONG_PRESS_DETECTED';var NOT_RESPONDER='NOT_RESPONDER';var RESPONDER_ACTIVE_LONG_PRESS_START='RESPONDER_ACTIVE_LONG_PRESS_START';var RESPONDER_ACTIVE_PRESS_START='RESPONDER_ACTIVE_PRESS_START';var RESPONDER_INACTIVE_PRESS_START='RESPONDER_INACTIVE_PRESS_START';var RESPONDER_GRANT='RESPONDER_GRANT';var RESPONDER_RELEASE='RESPONDER_RELEASE';var RESPONDER_TERMINATED='RESPONDER_TERMINATED';var Transitions=Object.freeze({NOT_RESPONDER:{DELAY:ERROR,RESPONDER_GRANT:RESPONDER_INACTIVE_PRESS_START,RESPONDER_RELEASE:ERROR,RESPONDER_TERMINATED:ERROR,LONG_PRESS_DETECTED:ERROR},RESPONDER_INACTIVE_PRESS_START:{DELAY:RESPONDER_ACTIVE_PRESS_START,RESPONDER_GRANT:ERROR,RESPONDER_RELEASE:NOT_RESPONDER,RESPONDER_TERMINATED:NOT_RESPONDER,LONG_PRESS_DETECTED:ERROR},RESPONDER_ACTIVE_PRESS_START:{DELAY:ERROR,RESPONDER_GRANT:ERROR,RESPONDER_RELEASE:NOT_RESPONDER,RESPONDER_TERMINATED:NOT_RESPONDER,LONG_PRESS_DETECTED:RESPONDER_ACTIVE_LONG_PRESS_START},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:ERROR,RESPONDER_GRANT:ERROR,RESPONDER_RELEASE:NOT_RESPONDER,RESPONDER_TERMINATED:NOT_RESPONDER,LONG_PRESS_DETECTED:RESPONDER_ACTIVE_LONG_PRESS_START},ERROR:{DELAY:NOT_RESPONDER,RESPONDER_GRANT:RESPONDER_INACTIVE_PRESS_START,RESPONDER_RELEASE:NOT_RESPONDER,RESPONDER_TERMINATED:NOT_RESPONDER,LONG_PRESS_DETECTED:NOT_RESPONDER}});var isActiveSignal=function isActiveSignal(signal){return signal===RESPONDER_ACTIVE_PRESS_START||signal===RESPONDER_ACTIVE_LONG_PRESS_START;};var isButtonRole=function isButtonRole(element){return element.getAttribute('role')==='button';};var isPressStartSignal=function isPressStartSignal(signal){return signal===RESPONDER_INACTIVE_PRESS_START||signal===RESPONDER_ACTIVE_PRESS_START||signal===RESPONDER_ACTIVE_LONG_PRESS_START;};var isTerminalSignal=function isTerminalSignal(signal){return signal===RESPONDER_TERMINATED||signal===RESPONDER_RELEASE;};var isValidKeyPress=function isValidKeyPress(event){var key=event.key,target=event.target;var role=target.getAttribute('role');var isSpacebar=key===' '||key==='Spacebar';return key==='Enter'||isSpacebar&&role==='button';};var DEFAULT_LONG_PRESS_DELAY_MS=450;var DEFAULT_PRESS_DELAY_MS=50;var PressResponder=function(){function PressResponder(config){this._eventHandlers=null;this._isPointerTouch=false;this._longPressDelayTimeout=null;this._longPressDispatched=false;this._pressDelayTimeout=null;this._pressOutDelayTimeout=null;this._touchState=NOT_RESPONDER;this.configure(config);}var _proto=PressResponder.prototype;_proto.configure=function configure(config){this._config=config;};_proto.reset=function reset(){this._cancelLongPressDelayTimeout();this._cancelPressDelayTimeout();this._cancelPressOutDelayTimeout();};_proto.getEventHandlers=function getEventHandlers(){if(this._eventHandlers==null){this._eventHandlers=this._createEventHandlers();}return this._eventHandlers;};_proto._createEventHandlers=function _createEventHandlers(){var _this=this;var start=function start(event,shouldDelay){event.persist();_this._cancelPressOutDelayTimeout();_this._longPressDispatched=false;_this._selectionTerminated=false;_this._touchState=NOT_RESPONDER;_this._isPointerTouch=event.nativeEvent.type==='touchstart';_this._receiveSignal(RESPONDER_GRANT,event);var delayPressStart=normalizeDelay(_this._config.delayPressStart,0,DEFAULT_PRESS_DELAY_MS);if(shouldDelay!==false&&delayPressStart>0){_this._pressDelayTimeout=setTimeout(function(){_this._receiveSignal(DELAY,event);},delayPressStart);}else{_this._receiveSignal(DELAY,event);}var delayLongPress=normalizeDelay(_this._config.delayLongPress,10,DEFAULT_LONG_PRESS_DELAY_MS);_this._longPressDelayTimeout=setTimeout(function(){_this._handleLongPress(event);},delayLongPress+delayPressStart);};var end=function end(event){_this._receiveSignal(RESPONDER_RELEASE,event);};var keyupHandler=function keyupHandler(event){var onPress=_this._config.onPress;var target=event.target;if(_this._touchState!==NOT_RESPONDER&&isValidKeyPress(event)){end(event);document.removeEventListener('keyup',keyupHandler);var role=target.getAttribute('role');var elementType=target.tagName.toLowerCase();var isNativeInteractiveElement=role==='link'||elementType==='a'||elementType==='button'||elementType==='input'||elementType==='select'||elementType==='textarea';if(onPress!=null&&!isNativeInteractiveElement){onPress(event);}}};return{onStartShouldSetResponder:function onStartShouldSetResponder(event){var disabled=_this._config.disabled;if(disabled&&isButtonRole(event.currentTarget)){event.stopPropagation();}if(disabled==null){return true;}return!disabled;},onKeyDown:function onKeyDown(event){var disabled=_this._config.disabled;var key=event.key,target=event.target;if(!disabled&&isValidKeyPress(event)){if(_this._touchState===NOT_RESPONDER){start(event,false);document.addEventListener('keyup',keyupHandler);}var role=target.getAttribute('role');var isSpacebarKey=key===' '||key==='Spacebar';var _isButtonRole=role==='button'||role==='menuitem';if(isSpacebarKey&&_isButtonRole){event.preventDefault();}event.stopPropagation();}},onResponderGrant:function onResponderGrant(event){return start(event);},onResponderMove:function onResponderMove(event){if(_this._config.onPressMove!=null){_this._config.onPressMove(event);}var touch=getTouchFromResponderEvent(event);if(_this._touchActivatePosition!=null){var deltaX=_this._touchActivatePosition.pageX-touch.pageX;var deltaY=_this._touchActivatePosition.pageY-touch.pageY;if(Math.hypot(deltaX,deltaY)>10){_this._cancelLongPressDelayTimeout();}}},onResponderRelease:function onResponderRelease(event){return end(event);},onResponderTerminate:function onResponderTerminate(event){if(event.nativeEvent.type==='selectionchange'){_this._selectionTerminated=true;}_this._receiveSignal(RESPONDER_TERMINATED,event);},onResponderTerminationRequest:function onResponderTerminationRequest(event){var _this$_config=_this._config,cancelable=_this$_config.cancelable,disabled=_this$_config.disabled,onLongPress=_this$_config.onLongPress;if(!disabled&&onLongPress!=null&&_this._isPointerTouch&&event.nativeEvent.type==='contextmenu'){return false;}if(cancelable==null){return true;}return cancelable;},onClick:function onClick(event){var _this$_config2=_this._config,disabled=_this$_config2.disabled,onPress=_this$_config2.onPress;if(!disabled){event.stopPropagation();if(_this._longPressDispatched||_this._selectionTerminated){event.preventDefault();}else if(onPress!=null&&event.altKey===false){onPress(event);}}else{if(isButtonRole(event.currentTarget)){event.stopPropagation();}}},onContextMenu:function onContextMenu(event){var _this$_config3=_this._config,disabled=_this$_config3.disabled,onLongPress=_this$_config3.onLongPress;if(!disabled){if(onLongPress!=null&&_this._isPointerTouch&&!event.defaultPrevented){event.preventDefault();event.stopPropagation();}}else{if(isButtonRole(event.currentTarget)){event.stopPropagation();}}}};};_proto._receiveSignal=function _receiveSignal(signal,event){var prevState=this._touchState;var nextState=null;if(Transitions[prevState]!=null){nextState=Transitions[prevState][signal];}if(this._touchState===NOT_RESPONDER&&signal===RESPONDER_RELEASE){return;}if(nextState==null||nextState===ERROR){console.error(\"PressResponder: Invalid signal \"+signal+\" for state \"+prevState+\" on responder\");}else if(prevState!==nextState){this._performTransitionSideEffects(prevState,nextState,signal,event);this._touchState=nextState;}};_proto._performTransitionSideEffects=function _performTransitionSideEffects(prevState,nextState,signal,event){if(isTerminalSignal(signal)){this._isPointerTouch=false;this._touchActivatePosition=null;this._cancelLongPressDelayTimeout();}if(isPressStartSignal(prevState)&&signal===LONG_PRESS_DETECTED){var onLongPress=this._config.onLongPress;if(onLongPress!=null&&event.nativeEvent.key==null){onLongPress(event);this._longPressDispatched=true;}}var isPrevActive=isActiveSignal(prevState);var isNextActive=isActiveSignal(nextState);if(!isPrevActive&&isNextActive){this._activate(event);}else if(isPrevActive&&!isNextActive){this._deactivate(event);}if(isPressStartSignal(prevState)&&signal===RESPONDER_RELEASE){var _this$_config4=this._config,_onLongPress=_this$_config4.onLongPress,onPress=_this$_config4.onPress;if(onPress!=null){var isPressCanceledByLongPress=_onLongPress!=null&&prevState===RESPONDER_ACTIVE_LONG_PRESS_START;if(!isPressCanceledByLongPress){if(!isNextActive&&!isPrevActive){this._activate(event);this._deactivate(event);}}}}this._cancelPressDelayTimeout();};_proto._activate=function _activate(event){var _this$_config5=this._config,onPressChange=_this$_config5.onPressChange,onPressStart=_this$_config5.onPressStart;var touch=getTouchFromResponderEvent(event);this._touchActivatePosition={pageX:touch.pageX,pageY:touch.pageY};if(onPressStart!=null){onPressStart(event);}if(onPressChange!=null){onPressChange(true);}};_proto._deactivate=function _deactivate(event){var _this$_config6=this._config,onPressChange=_this$_config6.onPressChange,onPressEnd=_this$_config6.onPressEnd;function end(){if(onPressEnd!=null){onPressEnd(event);}if(onPressChange!=null){onPressChange(false);}}var delayPressEnd=normalizeDelay(this._config.delayPressEnd);if(delayPressEnd>0){this._pressOutDelayTimeout=setTimeout(function(){end();},delayPressEnd);}else{end();}};_proto._handleLongPress=function _handleLongPress(event){if(this._touchState===RESPONDER_ACTIVE_PRESS_START||this._touchState===RESPONDER_ACTIVE_LONG_PRESS_START){this._receiveSignal(LONG_PRESS_DETECTED,event);}};_proto._cancelLongPressDelayTimeout=function _cancelLongPressDelayTimeout(){if(this._longPressDelayTimeout!=null){clearTimeout(this._longPressDelayTimeout);this._longPressDelayTimeout=null;}};_proto._cancelPressDelayTimeout=function _cancelPressDelayTimeout(){if(this._pressDelayTimeout!=null){clearTimeout(this._pressDelayTimeout);this._pressDelayTimeout=null;}};_proto._cancelPressOutDelayTimeout=function _cancelPressOutDelayTimeout(){if(this._pressOutDelayTimeout!=null){clearTimeout(this._pressOutDelayTimeout);this._pressOutDelayTimeout=null;}};return PressResponder;}();export{PressResponder as default};function normalizeDelay(delay,min,fallback){if(min===void 0){min=0;}if(fallback===void 0){fallback=0;}return Math.max(min,delay!==null&&delay!==void 0?delay:fallback);}function getTouchFromResponderEvent(event){var _event$nativeEvent=event.nativeEvent,changedTouches=_event$nativeEvent.changedTouches,touches=_event$nativeEvent.touches;if(touches!=null&&touches.length>0){return touches[0];}if(changedTouches!=null&&changedTouches.length>0){return changedTouches[0];}return event.nativeEvent;}","map":{"version":3,"names":["DELAY","ERROR","LONG_PRESS_DETECTED","NOT_RESPONDER","RESPONDER_ACTIVE_LONG_PRESS_START","RESPONDER_ACTIVE_PRESS_START","RESPONDER_INACTIVE_PRESS_START","RESPONDER_GRANT","RESPONDER_RELEASE","RESPONDER_TERMINATED","Transitions","Object","freeze","isActiveSignal","signal","isButtonRole","element","getAttribute","isPressStartSignal","isTerminalSignal","isValidKeyPress","event","key","target","role","isSpacebar","DEFAULT_LONG_PRESS_DELAY_MS","DEFAULT_PRESS_DELAY_MS","PressResponder","config","_eventHandlers","_isPointerTouch","_longPressDelayTimeout","_longPressDispatched","_pressDelayTimeout","_pressOutDelayTimeout","_touchState","configure","_proto","prototype","_config","reset","_cancelLongPressDelayTimeout","_cancelPressDelayTimeout","_cancelPressOutDelayTimeout","getEventHandlers","_createEventHandlers","_this","start","shouldDelay","persist","_selectionTerminated","nativeEvent","type","_receiveSignal","delayPressStart","normalizeDelay","setTimeout","delayLongPress","_handleLongPress","end","keyupHandler","onPress","document","removeEventListener","elementType","tagName","toLowerCase","isNativeInteractiveElement","onStartShouldSetResponder","disabled","currentTarget","stopPropagation","onKeyDown","addEventListener","isSpacebarKey","_isButtonRole","preventDefault","onResponderGrant","onResponderMove","onPressMove","touch","getTouchFromResponderEvent","_touchActivatePosition","deltaX","pageX","deltaY","pageY","Math","hypot","onResponderRelease","onResponderTerminate","onResponderTerminationRequest","_this$_config","cancelable","onLongPress","onClick","_this$_config2","altKey","onContextMenu","_this$_config3","defaultPrevented","prevState","nextState","console","error","_performTransitionSideEffects","isPrevActive","isNextActive","_activate","_deactivate","_this$_config4","_onLongPress","isPressCanceledByLongPress","_this$_config5","onPressChange","onPressStart","_this$_config6","onPressEnd","delayPressEnd","clearTimeout","default","delay","min","fallback","max","_event$nativeEvent","changedTouches","touches","length"],"sources":["C:/Users/sycla/Coding/Campirit/FRONTEND/node_modules/react-native-web/dist/modules/usePressEvents/PressResponder.js"],"sourcesContent":["/**\r\n * Copyright (c) Facebook, Inc. and its affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n * \r\n * @format\r\n */\r\n'use strict';\r\n\r\nvar DELAY = 'DELAY';\r\nvar ERROR = 'ERROR';\r\nvar LONG_PRESS_DETECTED = 'LONG_PRESS_DETECTED';\r\nvar NOT_RESPONDER = 'NOT_RESPONDER';\r\nvar RESPONDER_ACTIVE_LONG_PRESS_START = 'RESPONDER_ACTIVE_LONG_PRESS_START';\r\nvar RESPONDER_ACTIVE_PRESS_START = 'RESPONDER_ACTIVE_PRESS_START';\r\nvar RESPONDER_INACTIVE_PRESS_START = 'RESPONDER_INACTIVE_PRESS_START';\r\nvar RESPONDER_GRANT = 'RESPONDER_GRANT';\r\nvar RESPONDER_RELEASE = 'RESPONDER_RELEASE';\r\nvar RESPONDER_TERMINATED = 'RESPONDER_TERMINATED';\r\nvar Transitions = Object.freeze({\r\n  NOT_RESPONDER: {\r\n    DELAY: ERROR,\r\n    RESPONDER_GRANT: RESPONDER_INACTIVE_PRESS_START,\r\n    RESPONDER_RELEASE: ERROR,\r\n    RESPONDER_TERMINATED: ERROR,\r\n    LONG_PRESS_DETECTED: ERROR\r\n  },\r\n  RESPONDER_INACTIVE_PRESS_START: {\r\n    DELAY: RESPONDER_ACTIVE_PRESS_START,\r\n    RESPONDER_GRANT: ERROR,\r\n    RESPONDER_RELEASE: NOT_RESPONDER,\r\n    RESPONDER_TERMINATED: NOT_RESPONDER,\r\n    LONG_PRESS_DETECTED: ERROR\r\n  },\r\n  RESPONDER_ACTIVE_PRESS_START: {\r\n    DELAY: ERROR,\r\n    RESPONDER_GRANT: ERROR,\r\n    RESPONDER_RELEASE: NOT_RESPONDER,\r\n    RESPONDER_TERMINATED: NOT_RESPONDER,\r\n    LONG_PRESS_DETECTED: RESPONDER_ACTIVE_LONG_PRESS_START\r\n  },\r\n  RESPONDER_ACTIVE_LONG_PRESS_START: {\r\n    DELAY: ERROR,\r\n    RESPONDER_GRANT: ERROR,\r\n    RESPONDER_RELEASE: NOT_RESPONDER,\r\n    RESPONDER_TERMINATED: NOT_RESPONDER,\r\n    LONG_PRESS_DETECTED: RESPONDER_ACTIVE_LONG_PRESS_START\r\n  },\r\n  ERROR: {\r\n    DELAY: NOT_RESPONDER,\r\n    RESPONDER_GRANT: RESPONDER_INACTIVE_PRESS_START,\r\n    RESPONDER_RELEASE: NOT_RESPONDER,\r\n    RESPONDER_TERMINATED: NOT_RESPONDER,\r\n    LONG_PRESS_DETECTED: NOT_RESPONDER\r\n  }\r\n});\r\n\r\nvar isActiveSignal = function isActiveSignal(signal) {\r\n  return signal === RESPONDER_ACTIVE_PRESS_START || signal === RESPONDER_ACTIVE_LONG_PRESS_START;\r\n};\r\n\r\nvar isButtonRole = function isButtonRole(element) {\r\n  return element.getAttribute('role') === 'button';\r\n};\r\n\r\nvar isPressStartSignal = function isPressStartSignal(signal) {\r\n  return signal === RESPONDER_INACTIVE_PRESS_START || signal === RESPONDER_ACTIVE_PRESS_START || signal === RESPONDER_ACTIVE_LONG_PRESS_START;\r\n};\r\n\r\nvar isTerminalSignal = function isTerminalSignal(signal) {\r\n  return signal === RESPONDER_TERMINATED || signal === RESPONDER_RELEASE;\r\n};\r\n\r\nvar isValidKeyPress = function isValidKeyPress(event) {\r\n  var key = event.key,\r\n      target = event.target;\r\n  var role = target.getAttribute('role');\r\n  var isSpacebar = key === ' ' || key === 'Spacebar';\r\n  return key === 'Enter' || isSpacebar && role === 'button';\r\n};\r\n\r\nvar DEFAULT_LONG_PRESS_DELAY_MS = 450; // 500 - 50\r\n\r\nvar DEFAULT_PRESS_DELAY_MS = 50;\r\n/**\r\n * =========================== PressResponder Tutorial ===========================\r\n *\r\n * The `PressResponder` class helps you create press interactions by analyzing the\r\n * geometry of elements and observing when another responder (e.g. ScrollView)\r\n * has stolen the touch lock. It offers hooks for your component to provide\r\n * interaction feedback to the user:\r\n *\r\n * - When a press has activated (e.g. highlight an element)\r\n * - When a press has deactivated (e.g. un-highlight an element)\r\n * - When a press sould trigger an action, meaning it activated and deactivated\r\n *   while within the geometry of the element without the lock being stolen.\r\n *\r\n * A high quality interaction isn't as simple as you might think. There should\r\n * be a slight delay before activation. Moving your finger beyond an element's\r\n * bounds should trigger deactivation, but moving the same finger back within an\r\n * element's bounds should trigger reactivation.\r\n *\r\n * In order to use `PressResponder`, do the following:\r\n *\r\n *     const pressResponder = new PressResponder(config);\r\n *\r\n * 2. Choose the rendered component who should collect the press events. On that\r\n *    element, spread `pressability.getEventHandlers()` into its props.\r\n *\r\n *    return (\r\n *      <View {...this.state.pressResponder.getEventHandlers()} />\r\n *    );\r\n *\r\n * 3. Reset `PressResponder` when your component unmounts.\r\n *\r\n *    componentWillUnmount() {\r\n *      this.state.pressResponder.reset();\r\n *    }\r\n *\r\n * ==================== Implementation Details ====================\r\n *\r\n * `PressResponder` only assumes that there exists a `HitRect` node. The `PressRect`\r\n * is an abstract box that is extended beyond the `HitRect`.\r\n *\r\n * # Geometry\r\n *\r\n *  ┌────────────────────────┐\r\n *  │  ┌──────────────────┐  │ - Presses start anywhere within `HitRect`.\r\n *  │  │  ┌────────────┐  │  │\r\n *  │  │  │ VisualRect │  │  │\r\n *  │  │  └────────────┘  │  │ - When pressed down for sufficient amount of time\r\n *  │  │    HitRect       │  │   before letting up, `VisualRect` activates.\r\n *  │  └──────────────────┘  │\r\n *  │       Out Region   o   │\r\n *  └────────────────────│───┘\r\n *                       └────── When the press is released outside the `HitRect`,\r\n *                               the responder is NOT eligible for a \"press\".\r\n *\r\n * # State Machine\r\n *\r\n * ┌───────────────┐ ◀──── RESPONDER_RELEASE\r\n * │ NOT_RESPONDER │\r\n * └───┬───────────┘ ◀──── RESPONDER_TERMINATED\r\n *     │\r\n *     │ RESPONDER_GRANT (HitRect)\r\n *     │\r\n *     ▼\r\n * ┌─────────────────────┐          ┌───────────────────┐              ┌───────────────────┐\r\n * │ RESPONDER_INACTIVE_ │  DELAY   │ RESPONDER_ACTIVE_ │  T + DELAY   │ RESPONDER_ACTIVE_ │\r\n * │ PRESS_START         ├────────▶ │ PRESS_START       ├────────────▶ │ LONG_PRESS_START  │\r\n * └─────────────────────┘          └───────────────────┘              └───────────────────┘\r\n *\r\n * T + DELAY => LONG_PRESS_DELAY + DELAY\r\n *\r\n * Not drawn are the side effects of each transition. The most important side\r\n * effect is the invocation of `onLongPress`. Only when the browser produces a\r\n * `click` event is `onPress` invoked.\r\n */\r\n\r\nvar PressResponder = /*#__PURE__*/function () {\r\n  function PressResponder(config) {\r\n    this._eventHandlers = null;\r\n    this._isPointerTouch = false;\r\n    this._longPressDelayTimeout = null;\r\n    this._longPressDispatched = false;\r\n    this._pressDelayTimeout = null;\r\n    this._pressOutDelayTimeout = null;\r\n    this._touchState = NOT_RESPONDER;\r\n    this.configure(config);\r\n  }\r\n\r\n  var _proto = PressResponder.prototype;\r\n\r\n  _proto.configure = function configure(config) {\r\n    this._config = config;\r\n  }\r\n  /**\r\n   * Resets any pending timers. This should be called on unmount.\r\n   */\r\n  ;\r\n\r\n  _proto.reset = function reset() {\r\n    this._cancelLongPressDelayTimeout();\r\n\r\n    this._cancelPressDelayTimeout();\r\n\r\n    this._cancelPressOutDelayTimeout();\r\n  }\r\n  /**\r\n   * Returns a set of props to spread into the interactive element.\r\n   */\r\n  ;\r\n\r\n  _proto.getEventHandlers = function getEventHandlers() {\r\n    if (this._eventHandlers == null) {\r\n      this._eventHandlers = this._createEventHandlers();\r\n    }\r\n\r\n    return this._eventHandlers;\r\n  };\r\n\r\n  _proto._createEventHandlers = function _createEventHandlers() {\r\n    var _this = this;\r\n\r\n    var start = function start(event, shouldDelay) {\r\n      event.persist();\r\n\r\n      _this._cancelPressOutDelayTimeout();\r\n\r\n      _this._longPressDispatched = false;\r\n      _this._selectionTerminated = false;\r\n      _this._touchState = NOT_RESPONDER;\r\n      _this._isPointerTouch = event.nativeEvent.type === 'touchstart';\r\n\r\n      _this._receiveSignal(RESPONDER_GRANT, event);\r\n\r\n      var delayPressStart = normalizeDelay(_this._config.delayPressStart, 0, DEFAULT_PRESS_DELAY_MS);\r\n\r\n      if (shouldDelay !== false && delayPressStart > 0) {\r\n        _this._pressDelayTimeout = setTimeout(function () {\r\n          _this._receiveSignal(DELAY, event);\r\n        }, delayPressStart);\r\n      } else {\r\n        _this._receiveSignal(DELAY, event);\r\n      }\r\n\r\n      var delayLongPress = normalizeDelay(_this._config.delayLongPress, 10, DEFAULT_LONG_PRESS_DELAY_MS);\r\n      _this._longPressDelayTimeout = setTimeout(function () {\r\n        _this._handleLongPress(event);\r\n      }, delayLongPress + delayPressStart);\r\n    };\r\n\r\n    var end = function end(event) {\r\n      _this._receiveSignal(RESPONDER_RELEASE, event);\r\n    };\r\n\r\n    var keyupHandler = function keyupHandler(event) {\r\n      var onPress = _this._config.onPress;\r\n      var target = event.target;\r\n\r\n      if (_this._touchState !== NOT_RESPONDER && isValidKeyPress(event)) {\r\n        end(event);\r\n        document.removeEventListener('keyup', keyupHandler);\r\n        var role = target.getAttribute('role');\r\n        var elementType = target.tagName.toLowerCase();\r\n        var isNativeInteractiveElement = role === 'link' || elementType === 'a' || elementType === 'button' || elementType === 'input' || elementType === 'select' || elementType === 'textarea';\r\n\r\n        if (onPress != null && !isNativeInteractiveElement) {\r\n          onPress(event);\r\n        }\r\n      }\r\n    };\r\n\r\n    return {\r\n      onStartShouldSetResponder: function onStartShouldSetResponder(event) {\r\n        var disabled = _this._config.disabled;\r\n\r\n        if (disabled && isButtonRole(event.currentTarget)) {\r\n          event.stopPropagation();\r\n        }\r\n\r\n        if (disabled == null) {\r\n          return true;\r\n        }\r\n\r\n        return !disabled;\r\n      },\r\n      onKeyDown: function onKeyDown(event) {\r\n        var disabled = _this._config.disabled;\r\n        var key = event.key,\r\n            target = event.target;\r\n\r\n        if (!disabled && isValidKeyPress(event)) {\r\n          if (_this._touchState === NOT_RESPONDER) {\r\n            start(event, false); // Listen to 'keyup' on document to account for situations where\r\n            // focus is moved to another element during 'keydown'.\r\n\r\n            document.addEventListener('keyup', keyupHandler);\r\n          }\r\n\r\n          var role = target.getAttribute('role');\r\n          var isSpacebarKey = key === ' ' || key === 'Spacebar';\r\n\r\n          var _isButtonRole = role === 'button' || role === 'menuitem';\r\n\r\n          if (isSpacebarKey && _isButtonRole) {\r\n            // Prevent spacebar scrolling the window\r\n            event.preventDefault();\r\n          }\r\n\r\n          event.stopPropagation();\r\n        }\r\n      },\r\n      onResponderGrant: function onResponderGrant(event) {\r\n        return start(event);\r\n      },\r\n      onResponderMove: function onResponderMove(event) {\r\n        if (_this._config.onPressMove != null) {\r\n          _this._config.onPressMove(event);\r\n        }\r\n\r\n        var touch = getTouchFromResponderEvent(event);\r\n\r\n        if (_this._touchActivatePosition != null) {\r\n          var deltaX = _this._touchActivatePosition.pageX - touch.pageX;\r\n          var deltaY = _this._touchActivatePosition.pageY - touch.pageY;\r\n\r\n          if (Math.hypot(deltaX, deltaY) > 10) {\r\n            _this._cancelLongPressDelayTimeout();\r\n          }\r\n        }\r\n      },\r\n      onResponderRelease: function onResponderRelease(event) {\r\n        return end(event);\r\n      },\r\n      onResponderTerminate: function onResponderTerminate(event) {\r\n        if (event.nativeEvent.type === 'selectionchange') {\r\n          _this._selectionTerminated = true;\r\n        }\r\n\r\n        _this._receiveSignal(RESPONDER_TERMINATED, event);\r\n      },\r\n      onResponderTerminationRequest: function onResponderTerminationRequest(event) {\r\n        var _this$_config = _this._config,\r\n            cancelable = _this$_config.cancelable,\r\n            disabled = _this$_config.disabled,\r\n            onLongPress = _this$_config.onLongPress; // If `onLongPress` is provided, don't terminate on `contextmenu` as default\r\n        // behavior will be prevented for non-mouse pointers.\r\n\r\n        if (!disabled && onLongPress != null && _this._isPointerTouch && event.nativeEvent.type === 'contextmenu') {\r\n          return false;\r\n        }\r\n\r\n        if (cancelable == null) {\r\n          return true;\r\n        }\r\n\r\n        return cancelable;\r\n      },\r\n      // NOTE: this diverges from react-native in 3 significant ways:\r\n      // * The `onPress` callback is not connected to the responder system (the native\r\n      //  `click` event must be used but is dispatched in many scenarios where no pointers\r\n      //   are on the screen.) Therefore, it's possible for `onPress` to be called without\r\n      //   `onPress{Start,End}` being called first.\r\n      // * The `onPress` callback is only be called on the first ancestor of the native\r\n      //   `click` target that is using the PressResponder.\r\n      // * The event's `nativeEvent` is a `MouseEvent` not a `TouchEvent`.\r\n      onClick: function onClick(event) {\r\n        var _this$_config2 = _this._config,\r\n            disabled = _this$_config2.disabled,\r\n            onPress = _this$_config2.onPress;\r\n\r\n        if (!disabled) {\r\n          // If long press dispatched, cancel default click behavior.\r\n          // If the responder terminated because text was selected during the gesture,\r\n          // cancel the default click behavior.\r\n          event.stopPropagation();\r\n\r\n          if (_this._longPressDispatched || _this._selectionTerminated) {\r\n            event.preventDefault();\r\n          } else if (onPress != null && event.altKey === false) {\r\n            onPress(event);\r\n          }\r\n        } else {\r\n          if (isButtonRole(event.currentTarget)) {\r\n            event.stopPropagation();\r\n          }\r\n        }\r\n      },\r\n      // If `onLongPress` is provided and a touch pointer is being used, prevent the\r\n      // default context menu from opening.\r\n      onContextMenu: function onContextMenu(event) {\r\n        var _this$_config3 = _this._config,\r\n            disabled = _this$_config3.disabled,\r\n            onLongPress = _this$_config3.onLongPress;\r\n\r\n        if (!disabled) {\r\n          if (onLongPress != null && _this._isPointerTouch && !event.defaultPrevented) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n          }\r\n        } else {\r\n          if (isButtonRole(event.currentTarget)) {\r\n            event.stopPropagation();\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }\r\n  /**\r\n   * Receives a state machine signal, performs side effects of the transition\r\n   * and stores the new state. Validates the transition as well.\r\n   */\r\n  ;\r\n\r\n  _proto._receiveSignal = function _receiveSignal(signal, event) {\r\n    var prevState = this._touchState;\r\n    var nextState = null;\r\n\r\n    if (Transitions[prevState] != null) {\r\n      nextState = Transitions[prevState][signal];\r\n    }\r\n\r\n    if (this._touchState === NOT_RESPONDER && signal === RESPONDER_RELEASE) {\r\n      return;\r\n    }\r\n\r\n    if (nextState == null || nextState === ERROR) {\r\n      console.error(\"PressResponder: Invalid signal \" + signal + \" for state \" + prevState + \" on responder\");\r\n    } else if (prevState !== nextState) {\r\n      this._performTransitionSideEffects(prevState, nextState, signal, event);\r\n\r\n      this._touchState = nextState;\r\n    }\r\n  }\r\n  /**\r\n   * Performs a transition between touchable states and identify any activations\r\n   * or deactivations (and callback invocations).\r\n   */\r\n  ;\r\n\r\n  _proto._performTransitionSideEffects = function _performTransitionSideEffects(prevState, nextState, signal, event) {\r\n    if (isTerminalSignal(signal)) {\r\n      this._isPointerTouch = false;\r\n      this._touchActivatePosition = null;\r\n\r\n      this._cancelLongPressDelayTimeout();\r\n    }\r\n\r\n    if (isPressStartSignal(prevState) && signal === LONG_PRESS_DETECTED) {\r\n      var onLongPress = this._config.onLongPress; // Long press is not supported for keyboards because 'click' can be dispatched\r\n      // immediately (and multiple times) after 'keydown'.\r\n\r\n      if (onLongPress != null && event.nativeEvent.key == null) {\r\n        onLongPress(event);\r\n        this._longPressDispatched = true;\r\n      }\r\n    }\r\n\r\n    var isPrevActive = isActiveSignal(prevState);\r\n    var isNextActive = isActiveSignal(nextState);\r\n\r\n    if (!isPrevActive && isNextActive) {\r\n      this._activate(event);\r\n    } else if (isPrevActive && !isNextActive) {\r\n      this._deactivate(event);\r\n    }\r\n\r\n    if (isPressStartSignal(prevState) && signal === RESPONDER_RELEASE) {\r\n      var _this$_config4 = this._config,\r\n          _onLongPress = _this$_config4.onLongPress,\r\n          onPress = _this$_config4.onPress;\r\n\r\n      if (onPress != null) {\r\n        var isPressCanceledByLongPress = _onLongPress != null && prevState === RESPONDER_ACTIVE_LONG_PRESS_START;\r\n\r\n        if (!isPressCanceledByLongPress) {\r\n          // If we never activated (due to delays), activate and deactivate now.\r\n          if (!isNextActive && !isPrevActive) {\r\n            this._activate(event);\r\n\r\n            this._deactivate(event);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    this._cancelPressDelayTimeout();\r\n  };\r\n\r\n  _proto._activate = function _activate(event) {\r\n    var _this$_config5 = this._config,\r\n        onPressChange = _this$_config5.onPressChange,\r\n        onPressStart = _this$_config5.onPressStart;\r\n    var touch = getTouchFromResponderEvent(event);\r\n    this._touchActivatePosition = {\r\n      pageX: touch.pageX,\r\n      pageY: touch.pageY\r\n    };\r\n\r\n    if (onPressStart != null) {\r\n      onPressStart(event);\r\n    }\r\n\r\n    if (onPressChange != null) {\r\n      onPressChange(true);\r\n    }\r\n  };\r\n\r\n  _proto._deactivate = function _deactivate(event) {\r\n    var _this$_config6 = this._config,\r\n        onPressChange = _this$_config6.onPressChange,\r\n        onPressEnd = _this$_config6.onPressEnd;\r\n\r\n    function end() {\r\n      if (onPressEnd != null) {\r\n        onPressEnd(event);\r\n      }\r\n\r\n      if (onPressChange != null) {\r\n        onPressChange(false);\r\n      }\r\n    }\r\n\r\n    var delayPressEnd = normalizeDelay(this._config.delayPressEnd);\r\n\r\n    if (delayPressEnd > 0) {\r\n      this._pressOutDelayTimeout = setTimeout(function () {\r\n        end();\r\n      }, delayPressEnd);\r\n    } else {\r\n      end();\r\n    }\r\n  };\r\n\r\n  _proto._handleLongPress = function _handleLongPress(event) {\r\n    if (this._touchState === RESPONDER_ACTIVE_PRESS_START || this._touchState === RESPONDER_ACTIVE_LONG_PRESS_START) {\r\n      this._receiveSignal(LONG_PRESS_DETECTED, event);\r\n    }\r\n  };\r\n\r\n  _proto._cancelLongPressDelayTimeout = function _cancelLongPressDelayTimeout() {\r\n    if (this._longPressDelayTimeout != null) {\r\n      clearTimeout(this._longPressDelayTimeout);\r\n      this._longPressDelayTimeout = null;\r\n    }\r\n  };\r\n\r\n  _proto._cancelPressDelayTimeout = function _cancelPressDelayTimeout() {\r\n    if (this._pressDelayTimeout != null) {\r\n      clearTimeout(this._pressDelayTimeout);\r\n      this._pressDelayTimeout = null;\r\n    }\r\n  };\r\n\r\n  _proto._cancelPressOutDelayTimeout = function _cancelPressOutDelayTimeout() {\r\n    if (this._pressOutDelayTimeout != null) {\r\n      clearTimeout(this._pressOutDelayTimeout);\r\n      this._pressOutDelayTimeout = null;\r\n    }\r\n  };\r\n\r\n  return PressResponder;\r\n}();\r\n\r\nexport { PressResponder as default };\r\n\r\nfunction normalizeDelay(delay, min, fallback) {\r\n  if (min === void 0) {\r\n    min = 0;\r\n  }\r\n\r\n  if (fallback === void 0) {\r\n    fallback = 0;\r\n  }\r\n\r\n  return Math.max(min, delay !== null && delay !== void 0 ? delay : fallback);\r\n}\r\n\r\nfunction getTouchFromResponderEvent(event) {\r\n  var _event$nativeEvent = event.nativeEvent,\r\n      changedTouches = _event$nativeEvent.changedTouches,\r\n      touches = _event$nativeEvent.touches;\r\n\r\n  if (touches != null && touches.length > 0) {\r\n    return touches[0];\r\n  }\r\n\r\n  if (changedTouches != null && changedTouches.length > 0) {\r\n    return changedTouches[0];\r\n  }\r\n\r\n  return event.nativeEvent;\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}